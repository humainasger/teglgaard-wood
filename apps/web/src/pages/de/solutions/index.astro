---
import Layout from '../../../layouts/Layout.astro'
import TreeIcon from '../../../components/icons/TreeIcon.astro'
import TruckIcon from '../../../components/icons/TruckIcon.astro'
import { BUSINESS_INFO } from '../../../constants/business'
import { t } from '../../../i18n'
import type { Locale } from '../../../i18n'

const lang: Locale = 'de'

const customerTypes = [
  {
    id: 'garden-centers',
    title: 'Garden Centers',
    shortTitle: 'Garden Centers',
    image: '/images/solutions/garden-centers.jpg',
    description: 'Your customers expect the best. We help you deliver premium trees that keep them coming back year after year.',
    intro: 'Garden centers need a partner who understands retail. We provide consistent quality, flexible delivery, and the support to make your tree season a success.',
    challenges: [
      'Need consistent quality across all sizes',
      'Want flexible delivery scheduling',
      'Require reliable supply as season peaks',
      'Looking for competitive wholesale pricing',
    ],
    howWeHelp: [
      'Curated selection of Premium and A-Grade trees',
      'Day-to-day delivery so trees stay fresh',
      'Dedicated account management',
      'Private label options for your brand',
    ],
    volume: '1,000 - 20,000 trees',
    cta: 'Partner with us',
  },
  {
    id: 'supermarkets',
    title: 'Supermarket Chains',
    shortTitle: 'Supermarkets',
    image: '/images/solutions/supermarkets.jpg',
    description: 'High volume, tight timelines, multiple locations. We have the logistics infrastructure to serve your scale.',
    intro: 'Major retailers need a supplier who can deliver at scale without compromising on quality or timing. Our logistics network is built for exactly this.',
    challenges: [
      'Multi-location delivery coordination',
      'Strict quality and sizing requirements',
      'Price sensitivity across grades',
      'Short selling window - timing is everything',
    ],
    howWeHelp: [
      'Centralized or direct-to-store delivery',
      'Consistent grading across entire order',
      'Mixed grade orders to serve all price points',
      'Proven track record with major chains',
    ],
    volume: '10,000 - 100,000+ trees',
    cta: 'Discuss your volume',
  },
  {
    id: 'distributors',
    title: 'Distributors & Wholesalers',
    shortTitle: 'Distributors',
    image: '/images/solutions/distributors.jpg',
    description: 'You need a reliable upstream partner. We provide the sourcing depth and logistics to keep your customers supplied.',
    intro: 'When you\'re supplying dozens or hundreds of smaller retailers, you need a partner who can deliver volume, variety, and reliability.',
    challenges: [
      'Need access to large volumes quickly',
      'Require multiple species and grades',
      'Want competitive pricing for resale margins',
      'Seasonal demand spikes',
    ],
    howWeHelp: [
      'European grower network for sourcing flexibility',
      'Full truck loads at wholesale pricing',
      'All species, all grades, all sizes',
      'Long-term partnership pricing',
    ],
    volume: '20,000 - 200,000+ trees',
    cta: 'Explore partnership',
  },
  {
    id: 'nurseries',
    title: 'Plant Schools & Nurseries',
    shortTitle: 'Nurseries',
    image: '/images/solutions/nurseries.jpg',
    description: 'Industry professionals who know trees. We speak your language and meet your exacting standards.',
    intro: 'You know trees better than most. That\'s why we work with you as equals, providing the professional service and technical expertise you expect.',
    challenges: [
      'Technical specifications matter',
      'Quality consistency is non-negotiable',
      'Need specific species and sizes',
      'Timing with your own sales calendar',
    ],
    howWeHelp: [
      'Professional grading to your specifications',
      'Direct relationships with certified growers',
      'Flexible scheduling around your needs',
      'Technical support from people who understand',
    ],
    volume: '5,000 - 50,000 trees',
    cta: 'Talk specifications',
  },
  {
    id: 'ecommerce',
    title: 'E-Commerce Operators',
    shortTitle: 'E-Commerce',
    image: '/images/solutions/ecommerce.jpg',
    description: 'We built and sold three Christmas tree e-commerce businesses. We know exactly what you need.',
    intro: 'Online tree retail is a different beast. We\'ve been there - three times. We understand the operational challenges because we\'ve solved them ourselves.',
    challenges: [
      'Individual tree selection and photography',
      'Complex delivery logistics to consumers',
      'Returns and quality complaints',
      'Scaling operations during peak season',
    ],
    howWeHelp: [
      'Pre-graded inventory for online selection',
      'Drop-ship capability to end consumers',
      'Quality guarantee on every tree',
      'Operational consulting from experience',
    ],
    volume: '500 - 10,000 trees',
    cta: 'Learn from experience',
  },
  {
    id: 'commercial',
    title: 'Commercial & Corporate',
    shortTitle: 'Commercial',
    image: '/images/solutions/commercial.jpg',
    description: 'Hotels, shopping centers, municipalities, events. Large specimens and bulk greenery for impressive displays.',
    intro: 'When the tree needs to make a statement, you need a supplier who can source exceptional specimens and deliver on tight event timelines.',
    challenges: [
      'Need exceptional specimen trees (3-7m)',
      'Greenery for large-scale decorating',
      'Professional installation coordination',
      'Tight event timelines',
    ],
    howWeHelp: [
      'Access to premium large specimens',
      'Bulk greenery at competitive rates',
      'Coordination with decorating teams',
      'White-glove service for VIP accounts',
    ],
    volume: 'Custom requirements',
    cta: 'Request consultation',
  },
]
---

<Layout 
  title="Solutions - Who We Serve"
  description="Christmas tree solutions for garden centers, supermarkets, distributors, e-commerce, and commercial buyers. 50 years serving every level of the industry."
>
  <!-- Hero -->
  <section class="bg-gradient-to-br from-primary-800 to-primary-600 py-20 lg:py-28">
    <div class="max-w-screen-xl mx-auto px-4">
      <div class="max-w-3xl">
        <span class="inline-block text-primary-300 font-semibold text-sm uppercase tracking-wider mb-4">Solutions</span>
        <h1 class="text-4xl lg:text-5xl font-bold text-white mb-6">
          We Understand Your Business
        </h1>
        <p class="text-xl text-primary-100 mb-8">
          In 50 years, we've worked at every level of the Christmas tree industry.
          We've been growers, traders, e-commerce operators, and wholesale partners.
          That experience means we understand exactly what you need.
        </p>
      </div>
    </div>
  </section>

  <!-- Sticky Sub-Navigation -->
  <nav class="bg-white border-b border-gray-200 sticky top-[108px] z-40 shadow-sm" id="solutions-nav">
    <div class="max-w-screen-xl mx-auto px-4">
      <div class="flex overflow-x-auto scrollbar-hide -mx-4 px-4 lg:mx-0 lg:px-0">
        <div class="flex gap-1 py-5">
          {customerTypes.map((customer) => (
            <a 
              href={`#${customer.id}`}
              class="px-4 py-2 rounded-lg text-sm font-medium text-gray-600 hover:text-primary-700 hover:bg-primary-50 whitespace-nowrap transition-colors"
              data-nav-item={customer.id}
            >
              {customer.shortTitle}
            </a>
          ))}
        </div>
      </div>
    </div>
  </nav>

  <!-- Experience Banner -->
  <section class="bg-primary-900 py-12">
    <div class="max-w-screen-xl mx-auto px-4">
      <div class="grid md:grid-cols-3 gap-8 text-center">
        <div>
          <div class="text-2xl lg:text-3xl font-bold text-white mb-2">Production</div>
          <p class="text-primary-300 text-sm lg:text-base">Ran our own tree production in the early 2000s. We know grading from the field.</p>
        </div>
        <div>
          <div class="text-2xl lg:text-3xl font-bold text-white mb-2">E-Commerce</div>
          <p class="text-primary-300 text-sm lg:text-base">Built and sold 3 D2C Christmas tree businesses. We understand online retail.</p>
        </div>
        <div>
          <div class="text-2xl lg:text-3xl font-bold text-white mb-2">Wholesale</div>
          <p class="text-primary-300 text-sm lg:text-base">{BUSINESS_INFO.stats.treesAnnually} trees annually to retailers across Europe.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Customer Types -->
  <section class="bg-white">
    {customerTypes.map((customer, index) => (
      <div 
        id={customer.id}
        class={`py-20 lg:py-28 scroll-mt-40 ${index % 2 === 1 ? 'bg-gray-50' : 'bg-white'}`}
      >
        <div class="max-w-screen-xl mx-auto px-4">
          <div class={`grid lg:grid-cols-2 gap-12 lg:gap-20 items-center ${index % 2 === 1 ? 'lg:grid-flow-dense' : ''}`}>
            <!-- Image -->
            <div class={index % 2 === 1 ? 'lg:col-start-2' : ''}>
              <div class="rounded-3xl overflow-hidden shadow-2xl">
                <img 
                  src={customer.image} 
                  alt={customer.title}
                  class="w-full aspect-[4/3] object-cover"
                  loading="lazy"
                />
              </div>
            </div>
            
            <!-- Content -->
            <div class={index % 2 === 1 ? 'lg:col-start-1' : ''}>
              <div class="flex items-center gap-3 mb-4">
                <span class="text-sm font-semibold text-primary-600 uppercase tracking-wider">{customer.volume}</span>
              </div>
              
              <h2 class="text-3xl lg:text-4xl font-bold text-gray-900 mb-4">{customer.title}</h2>
              <p class="text-xl text-gray-600 mb-6">{customer.intro}</p>
              
              <div class="grid sm:grid-cols-2 gap-8 mb-8">
                <div>
                  <h3 class="text-sm font-semibold text-gray-500 uppercase tracking-wider mb-4">Your Challenges</h3>
                  <ul class="space-y-3">
                    {customer.challenges.map((challenge) => (
                      <li class="flex items-start gap-2 text-gray-600 text-sm">
                        <svg class="w-5 h-5 text-gray-400 flex-shrink-0 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                        </svg>
                        {challenge}
                      </li>
                    ))}
                  </ul>
                </div>
                
                <div>
                  <h3 class="text-sm font-semibold text-primary-700 uppercase tracking-wider mb-4">How We Help</h3>
                  <ul class="space-y-3">
                    {customer.howWeHelp.map((help) => (
                      <li class="flex items-start gap-2 text-gray-700 text-sm">
                        <svg class="w-5 h-5 text-primary-500 flex-shrink-0 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                        </svg>
                        {help}
                      </li>
                    ))}
                  </ul>
                </div>
              </div>
              
              <a 
                href="/contact" 
                class="inline-flex items-center px-6 py-3 bg-primary-600 text-white font-semibold rounded-xl hover:bg-primary-700 transition-colors"
              >
                {customer.cta}
                <svg class="w-4 h-4 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3"></path>
                </svg>
              </a>
            </div>
          </div>
        </div>
      </div>
    ))}
  </section>

  <!-- Why It Matters -->
  <section class="bg-primary-800 py-20 lg:py-28">
    <div class="max-w-screen-xl mx-auto px-4">
      <div class="max-w-3xl mx-auto text-center">
        <span class="inline-block text-primary-300 font-semibold text-sm uppercase tracking-wider mb-4">Why It Matters</span>
        <h2 class="text-3xl lg:text-4xl font-bold text-white mb-6">
          Experience You Can't Fake
        </h2>
        <p class="text-xl text-primary-100 mb-8">
          Most suppliers have only seen one side of this business.
          We've been growers, e-commerce operators, and wholesale traders.
          When you tell us your challenges, we've probably faced them ourselves.
        </p>
        <p class="text-lg text-primary-200 mb-10">
          That's not just industry knowledge - it's empathy.
          We know what keeps you up at night in November,
          and we build our service around solving those exact problems.
        </p>
        
        <div class="flex flex-col sm:flex-row gap-4 justify-center">
          <a 
            href="/contact" 
            class="inline-flex items-center justify-center px-8 py-4 bg-white text-primary-700 font-semibold rounded-xl hover:bg-gray-100 transition-colors text-lg"
          >
            Get in Touch
          </a>
          <a 
            href={`tel:${BUSINESS_INFO.phoneRaw}`}
            class="inline-flex items-center justify-center px-8 py-4 border-2 border-white text-white font-semibold rounded-xl hover:bg-white hover:text-primary-700 transition-colors text-lg"
          >
            <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path>
            </svg>
            {BUSINESS_INFO.phoneDisplay}
          </a>
        </div>
      </div>
    </div>
  </section>
</Layout>

<script>
  // Highlight active nav item on scroll
  const sections = document.querySelectorAll('[id]');
  const navItems = document.querySelectorAll('[data-nav-item]');
  
  const observerOptions = {
    rootMargin: '-200px 0px -50% 0px',
    threshold: 0
  };
  
  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        navItems.forEach(item => {
          item.classList.remove('bg-primary-100', 'text-primary-700');
          if (item.getAttribute('data-nav-item') === entry.target.id) {
            item.classList.add('bg-primary-100', 'text-primary-700');
          }
        });
      }
    });
  }, observerOptions);
  
  sections.forEach(section => {
    if (section.id && document.querySelector(`[data-nav-item="${section.id}"]`)) {
      observer.observe(section);
    }
  });
</script>

<style>
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }
</style>
